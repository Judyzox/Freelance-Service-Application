{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zoxju\\\\frontend\\\\src\\\\components\\\\ProfilePicture.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { useApp } from '../context/AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction fileToBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\nexport default function ProfilePicture({\n  size = 'medium',\n  onImageChange\n}) {\n  _s();\n  const [image, setImage] = useState(localStorage.getItem('profilePicture') || null);\n  const [isHovered, setIsHovered] = useState(false);\n  const fileInputRef = useRef();\n  const {\n    setLoading,\n    showToast\n  } = useApp();\n  const sizeMap = {\n    small: '3rem',\n    medium: '5rem',\n    large: '8rem'\n  };\n  const handleImageClick = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const handleFileChange = async e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        // 5MB limit\n        showToast('Image size should be less than 5MB', 'error');\n        return;\n      }\n      setLoading(true);\n      try {\n        const base64 = await fileToBase64(file);\n        setImage(base64);\n        localStorage.setItem('profilePicture', base64);\n        onImageChange === null || onImageChange === void 0 ? void 0 : onImageChange(base64);\n        showToast('Profile picture updated successfully', 'success');\n      } catch (error) {\n        showToast('Error uploading image', 'error');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: sizeMap[size],\n      height: sizeMap[size],\n      borderRadius: '50%',\n      overflow: 'hidden',\n      cursor: 'pointer',\n      background: image ? 'none' : '#f3f6fb',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#0a66c2',\n      fontSize: size === 'small' ? '1.5rem' : size === 'medium' ? '2rem' : '3rem',\n      fontWeight: 600\n    },\n    onClick: handleImageClick,\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    children: [image ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      alt: \"Profile\",\n      style: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this) : 'ðŸ‘¤', isHovered && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: 'white',\n        fontSize: '0.875rem',\n        fontWeight: 500\n      },\n      children: \"Change Photo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      onChange: handleFileChange,\n      accept: \"image/*\",\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfilePicture, \"bGIg41Uy/Ao/bxxUzkEua56orvA=\", false, function () {\n  return [useApp];\n});\n_c = ProfilePicture;\nvar _c;\n$RefreshReg$(_c, \"ProfilePicture\");","map":{"version":3,"names":["React","useState","useRef","useApp","jsxDEV","_jsxDEV","fileToBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","ProfilePicture","size","onImageChange","_s","image","setImage","localStorage","getItem","isHovered","setIsHovered","fileInputRef","setLoading","showToast","sizeMap","small","medium","large","handleImageClick","_fileInputRef$current","current","click","handleFileChange","e","target","files","base64","setItem","error","style","position","width","height","borderRadius","overflow","cursor","background","display","alignItems","justifyContent","color","fontSize","fontWeight","onClick","onMouseEnter","onMouseLeave","children","src","alt","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","top","left","right","bottom","type","ref","onChange","accept","_c","$RefreshReg$"],"sources":["C:/Users/zoxju/frontend/src/components/ProfilePicture.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { useApp } from '../context/AppContext';\r\n\r\nfunction fileToBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n    reader.readAsDataURL(file);\r\n  });\r\n}\r\n\r\nexport default function ProfilePicture({ size = 'medium', onImageChange }) {\r\n  const [image, setImage] = useState(localStorage.getItem('profilePicture') || null);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const fileInputRef = useRef();\r\n  const { setLoading, showToast } = useApp();\r\n\r\n  const sizeMap = {\r\n    small: '3rem',\r\n    medium: '5rem',\r\n    large: '8rem'\r\n  };\r\n\r\n  const handleImageClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const handleFileChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      if (file.size > 5 * 1024 * 1024) { // 5MB limit\r\n        showToast('Image size should be less than 5MB', 'error');\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      try {\r\n        const base64 = await fileToBase64(file);\r\n        setImage(base64);\r\n        localStorage.setItem('profilePicture', base64);\r\n        onImageChange?.(base64);\r\n        showToast('Profile picture updated successfully', 'success');\r\n      } catch (error) {\r\n        showToast('Error uploading image', 'error');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'relative',\r\n        width: sizeMap[size],\r\n        height: sizeMap[size],\r\n        borderRadius: '50%',\r\n        overflow: 'hidden',\r\n        cursor: 'pointer',\r\n        background: image ? 'none' : '#f3f6fb',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: '#0a66c2',\r\n        fontSize: size === 'small' ? '1.5rem' : size === 'medium' ? '2rem' : '3rem',\r\n        fontWeight: 600\r\n      }}\r\n      onClick={handleImageClick}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      {image ? (\r\n        <img \r\n          src={image} \r\n          alt=\"Profile\" \r\n          style={{ \r\n            width: '100%', \r\n            height: '100%', \r\n            objectFit: 'cover' \r\n          }} \r\n        />\r\n      ) : (\r\n        'ðŸ‘¤'\r\n      )}\r\n      {isHovered && (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: 'rgba(0,0,0,0.5)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: 'white',\r\n            fontSize: '0.875rem',\r\n            fontWeight: 500\r\n          }}\r\n        >\r\n          Change Photo\r\n        </div>\r\n      )}\r\n      <input\r\n        type=\"file\"\r\n        ref={fileInputRef}\r\n        onChange={handleFileChange}\r\n        accept=\"image/*\"\r\n        style={{ display: 'none' }}\r\n      />\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}