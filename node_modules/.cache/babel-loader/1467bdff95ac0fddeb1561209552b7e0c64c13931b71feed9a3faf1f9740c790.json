{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zoxju\\\\frontend\\\\src\\\\pages\\\\Applications.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Applications() {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const u = JSON.parse(localStorage.getItem('user') || '{}');\n    setUser(u);\n    setJobs(JSON.parse(localStorage.getItem('jobs') || '[]'));\n    if (u.role !== 'client') navigate('/');\n  }, [navigate]);\n  const handleOfferStatus = (jobId, offerId, status) => {\n    const updatedJobs = jobs.map(job => {\n      if (job.jobId === jobId) {\n        job.offers = job.offers.map(offer => offer.offerId === offerId ? {\n          ...offer,\n          status\n        } : offer);\n      }\n      return job;\n    });\n    setJobs(updatedJobs);\n    localStorage.setItem('jobs', JSON.stringify(updatedJobs));\n  };\n\n  // Only show jobs posted by this client\n  const clientJobs = jobs.filter(job => job.clientId === (user && user.userId));\n  const allOffers = clientJobs.flatMap(job => (job.offers || []).map(offer => ({\n    ...offer,\n    job\n  })));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Job Applications\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), allOffers.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No applications yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: allOffers.map(({\n        offerId,\n        job,\n        freeLancerId,\n        proposalText,\n        amount,\n        status,\n        createdAt\n      }) => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: 16,\n          background: status === 'accepted' ? '#d1fae5' : status === 'rejected' ? '#fee2e2' : '#f3f6fb',\n          borderRadius: 8,\n          padding: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Job:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), \" \", job.title, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Freelancer ID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), \" \", freeLancerId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 49\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Proposal:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), \" \", proposalText, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 44\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), \" $\", amount, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: status === 'accepted' ? '#059669' : status === 'rejected' ? '#dc2626' : '#0a66c2'\n          },\n          children: status.charAt(0).toUpperCase() + status.slice(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 192\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Submitted at:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), \" \", createdAt, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 45\n        }, this), status === 'pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: 8\n            },\n            onClick: () => handleOfferStatus(job.jobId, offerId, 'accepted'),\n            children: \"Accept\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: 8\n            },\n            onClick: () => handleOfferStatus(job.jobId, offerId, 'rejected'),\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, offerId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Applications, \"r1mGENJDevjCBwhx0oxOk4BpCt4=\", false, function () {\n  return [useNavigate];\n});\n_c = Applications;\nvar _c;\n$RefreshReg$(_c, \"Applications\");","map":{"version":3,"names":["useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Applications","_s","jobs","setJobs","user","setUser","navigate","u","JSON","parse","localStorage","getItem","role","handleOfferStatus","jobId","offerId","status","updatedJobs","map","job","offers","offer","setItem","stringify","clientJobs","filter","clientId","userId","allOffers","flatMap","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","freeLancerId","proposalText","amount","createdAt","style","marginBottom","background","borderRadius","padding","title","color","charAt","toUpperCase","slice","marginLeft","onClick","_c","$RefreshReg$"],"sources":["C:/Users/zoxju/frontend/src/pages/Applications.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Applications() {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const u = JSON.parse(localStorage.getItem('user') || '{}');\r\n    setUser(u);\r\n    setJobs(JSON.parse(localStorage.getItem('jobs') || '[]'));\r\n    if (u.role !== 'client') navigate('/');\r\n  }, [navigate]);\r\n\r\n  const handleOfferStatus = (jobId, offerId, status) => {\r\n    const updatedJobs = jobs.map(job => {\r\n      if (job.jobId === jobId) {\r\n        job.offers = job.offers.map(offer =>\r\n          offer.offerId === offerId ? { ...offer, status } : offer\r\n        );\r\n      }\r\n      return job;\r\n    });\r\n    setJobs(updatedJobs);\r\n    localStorage.setItem('jobs', JSON.stringify(updatedJobs));\r\n  };\r\n\r\n  // Only show jobs posted by this client\r\n  const clientJobs = jobs.filter(job => job.clientId === (user && user.userId));\r\n  const allOffers = clientJobs.flatMap(job => (job.offers || []).map(offer => ({ ...offer, job })));\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <h1>Job Applications</h1>\r\n      {allOffers.length === 0 && <p>No applications yet.</p>}\r\n      <ul>\r\n        {allOffers.map(({ offerId, job, freeLancerId, proposalText, amount, status, createdAt }) => (\r\n          <li key={offerId} style={{ marginBottom: 16, background: status === 'accepted' ? '#d1fae5' : status === 'rejected' ? '#fee2e2' : '#f3f6fb', borderRadius: 8, padding: 12 }}>\r\n            <b>Job:</b> {job.title}<br />\r\n            <b>Freelancer ID:</b> {freeLancerId}<br />\r\n            <b>Proposal:</b> {proposalText}<br />\r\n            <b>Amount:</b> ${amount}<br />\r\n            <b>Status:</b> <span style={{ color: status === 'accepted' ? '#059669' : status === 'rejected' ? '#dc2626' : '#0a66c2' }}>{status.charAt(0).toUpperCase() + status.slice(1)}</span><br />\r\n            <b>Submitted at:</b> {createdAt}<br />\r\n            {status === 'pending' && (\r\n              <>\r\n                <button style={{ marginLeft: 8 }} onClick={() => handleOfferStatus(job.jobId, offerId, 'accepted')}>Accept</button>\r\n                <button style={{ marginLeft: 8 }} onClick={() => handleOfferStatus(job.jobId, offerId, 'rejected')}>Reject</button>\r\n              </>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}